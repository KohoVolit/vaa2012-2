{"version":3,"sources":["webpack:///./src/components/Selection.vue?10c8","webpack:///./src/components/Selection.vue?5d9f","webpack:///src/components/Selection.vue","webpack:///./src/components/Selection.vue?61e0","webpack:///./src/components/Selection.vue?1387"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","on","$event","goResults","attrs","_l","question","key","id","answered","directives","name","rawName","value","checked","expression","domProps","Array","isArray","_i","$$a","$$el","target","$$c","$$v","$$i","$set","concat","slice","storeWeights","answers","_e","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2988a7aa.6fbaf5c2.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Selection.vue?vue&type=style&index=0&id=27337bd7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Selection.vue?vue&type=style&index=0&id=27337bd7&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('component-header'),_c('div',{staticClass:\"selection\"},[_c('h4',{staticClass:\"p-2\"},[_vm._v(\" \"+_vm._s(_vm.$t('select_extra_important_questions'))+\" \")]),_c('button',{staticClass:\"btn btn-outline-secondary btn-lg btn-block mb-3\",on:{\"click\":function($event){return _vm.goResults()}}},[(_vm.spinning)?_c('font-awesome-icon',{staticClass:\"fa-spin\",attrs:{\"icon\":\"spinner\"}}):_c('span',[_vm._v(\">\")]),_vm._v(\" \"+_vm._s(_vm.$t('skip'))+\" \"),(_vm.spinning)?_c('font-awesome-icon',{staticClass:\"fa-spin\",attrs:{\"icon\":\"spinner\"}}):_c('span',[_vm._v(\">\")])],1),_vm._l((_vm.questions),function(question){return _c('div',{key:question.id,staticClass:\"list-group\"},[(_vm.answered[question.id])?_c('div',{staticClass:\"list-group-item list-group-item-action flex-column align-items-start\"},[_c('label',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checked[question.id]),expression:\"checked[question.id]\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.checked[question.id])?_vm._i(_vm.checked[question.id],null)>-1:(_vm.checked[question.id])},on:{\"change\":[function($event){var $$a=_vm.checked[question.id],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.checked, question.id, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.checked, question.id, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.checked, question.id, $$c)}},function($event){return _vm.storeWeights()}]}}),_c('span',{staticClass:\"custom-control-indicator\"}),_c('div',{staticClass:\"custom-control-description\"},[_c('div',{staticClass:\"d-flex w-100 justify-content-between\"},[_c('h5',{staticClass:\"mb-1\"},[_vm._v(_vm._s(question.name)+\" (\"+_vm._s(_vm.answers[question.id])+\")\")])]),_c('small',{staticClass:\"mb-1 text-muted\"},[_vm._v(\" \"+_vm._s(question.question)+\" \")])])])]):_vm._e()])}),_c('button',{staticClass:\"btn btn-success btn-lg btn-block mt-3\",on:{\"click\":function($event){return _vm.goResults()}}},[(_vm.spinning)?_c('font-awesome-icon',{staticClass:\"fa-spin\",attrs:{\"icon\":\"spinner\"}}):_c('span',[_vm._v(\">\")]),_vm._v(\" \"+_vm._s(_vm.$t('result'))+\" \"),(_vm.spinning)?_c('font-awesome-icon',{staticClass:\"fa-spin\",attrs:{\"icon\":\"spinner\"}}):_c('span',[_vm._v(\">\")])],1)],2),_c('component-footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <component-header></component-header>\n        <!-- <button class=\"btn btn-outline-primary btn-sm\" @click=\"goVAA()\"> < {{ $t('back') }}</button> -->\n        <div class=\"selection\">\n            <h4 class=\"p-2\">\n                {{ $t('select_extra_important_questions') }}\n            </h4>\n            <button class=\"btn btn-outline-secondary btn-lg btn-block mb-3\" @click=\"goResults()\">\n                <font-awesome-icon icon=\"spinner\" class=\"fa-spin\" v-if=\"spinning\" />\n                <span v-else>></span>\n                    {{ $t('skip') }}\n                <font-awesome-icon icon=\"spinner\" class=\"fa-spin\" v-if=\"spinning\" />\n                <span v-else>></span>\n            </button>\n            <div class=\"list-group\" v-for=\"question in questions\" v-bind:key=\"question.id\">\n                <div v-if=\"answered[question.id]\" class=\"list-group-item list-group-item-action flex-column align-items-start\">\n                    <label class=\"custom-control custom-checkbox\">\n                        <input type=\"checkbox\" class=\"custom-control-input\" v-model=\"checked[question.id]\" @change=\"storeWeights()\">\n                        <span class=\"custom-control-indicator\"></span>\n                        <div class=\"custom-control-description\">\n                            <div class=\"d-flex w-100 justify-content-between\">\n                                <h5 class=\"mb-1\">{{ question.name }} ({{ answers[question.id] }})</h5>\n                            </div>\n                            <small class=\"mb-1 text-muted\">\n                                {{ question.question }}\n                            </small>\n                        </div>\n                    </label>\n                </div>\n            </div>\n            <button class=\"btn btn-success btn-lg btn-block mt-3\" @click=\"goResults()\">\n                <font-awesome-icon icon=\"spinner\" class=\"fa-spin\" v-if=\"spinning\" />\n                <span v-else>></span>\n                    {{ $t('result') }}\n                <font-awesome-icon icon=\"spinner\" class=\"fa-spin\" v-if=\"spinning\" />\n                <span v-else>></span>\n            </button>\n        </div>\n        <component-footer></component-footer>\n    </div>\n</template>\n\n<script>\n    // import questions from '../data/questions.json'\n    import Header from './Header.vue'\n    import Footer from './Footer.vue'\n\n    import { library } from '@fortawesome/fontawesome-svg-core'\n    import { faSpinner } from '@fortawesome/free-solid-svg-icons'\n    import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\n\n    library.add(faSpinner)\n\n    export default {\n        data: function () {\n            // var checked = {}\n            // for (var i = 0; i < questions.length; i++) { checked[questions[i].id] = false }\n            // var answered = {}\n            // var answers = {}\n            // var q = JSON.parse(this.$route.query.q)\n            // for (var k in questions) {\n            //     var question = questions[k]\n            //     if (Math.abs(q[parseInt(question.id)]) > 0) {\n            //         answered[question.id] = true\n            //         this.$store.state.answers[parseInt(question.id)] = q[parseInt(question.id)]\n            //     }\n            //     else {\n            //         answered[question.id] = false\n            //     }\n            //     if (q[parseInt(question.id)] === -1) {\n            //         answers[question.id] = this.$t('no')\n            //     }\n            //     if (q[parseInt(question.id)] === 1) {\n            //         answers[question.id] = this.$t('yes')\n            //     }\n            // }\n\n            return {\n                //questions,\n                // answered,\n                // answers,\n                // checked: checked,\n                spinning: false\n            }\n        },\n        computed: {\n            questions: function() {\n                let cc = this.$route.query.cc\n                if ((typeof cc == 'undefined') || (cc == '')) {\n                    cc = 'pl'\n                    let constit = {\n                        constituency: 'Plzeňský kraj',\n                        name: 'Plzeňský kraj',\n                        constituency_code: cc\n                    }\n                    var payload = constit\n                    this.$store.commit('storeConstituency', payload)\n                }\n                return require('../data/questions_' + cc + '.json')\n            },\n            answered: function() {\n                let answered = {}\n                let q = JSON.parse(this.$route.query.q)\n                for (var k in this.questions) {\n                    var question = this.questions[k]\n                    if (Math.abs(q[parseInt(question.id)]) > 0) {\n                        answered[question.id] = true\n                        // this.$store.state.answers[parseInt(question.id)] = q[parseInt(question.id)]\n                    }\n                    else {\n                        answered[question.id] = false\n                    }\n                }\n                return answered\n            },\n            answers: function() {\n                let answers = {}\n                var q = JSON.parse(this.$route.query.q)\n                for (var k in this.questions) {\n                    var question = this.questions[k]\n                    if (q[parseInt(question.id)] === -1) {\n                        answers[question.id] = this.$t('no')\n                    }\n                    if (q[parseInt(question.id)] === 1) {\n                        answers[question.id] = this.$t('yes')\n                    }\n                }\n                return answers\n            },\n            checked: function() {\n                let checked = {}\n                let $this = this\n                for (var i = 0; i < this.questions.length; i++) { checked[$this.questions[i].id] = false }\n                return checked\n            }\n        },\n        methods: {\n            addChecked: function () {\n                this.checked.push({question_id: false})\n            },\n            storeWeights: function () {\n                this.$store.commit('storeWeights', this.checked)\n            },\n            goResults: function () {\n                // this.scrollToTop()\n                this.spinning = true\n                this.$router.push({ path: '/results', query: { cc: this.$store.state.constituency.constituency_code, q: JSON.stringify(this.$store.state.answers), w: JSON.stringify(this.$store.state.weights) } })\n            },\n            // scrollToTop() {\n            //     window.scrollTo(0,0)\n            // }\n        },\n        components: {\n            'component-header': Header,\n            'component-footer': Footer,\n            'font-awesome-icon': FontAwesomeIcon\n        }\n    }\n</script>\n\n<style scoped>\n    button:hover {\n        cursor: pointer;\n    }\n    .selection {\n        max-width: 992px;\n        margin-left: auto;\n        margin-right: auto;\n        min-height: calc(100vh - 56px);\n    }\n    .custom-control {\n        position: relative;\n        display: -ms-inline-flexbox;\n        display: inline-flex;\n        min-height: 1.5rem;\n        padding-left: 1.5rem;\n        margin-right: 1rem;\n        min-width: 90vw;\n    }\n    .custom-control:hover {\n        cursor: pointer;\n    }\n    .custom-control-input {\n        position: absolute;\n        z-index: -1;\n        opacity: 0;\n    }\n    .custom-checkbox .custom-control-input:checked ~ .custom-control-indicator {\n        background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3E%3C/svg%3E\");\n    }\n    .custom-control-input:checked ~ .custom-control-indicator {\n        color: #fff;\n        background-color: #007bff;\n    }\n    .custom-checkbox .custom-control-indicator {\n        border-radius: .25rem;\n    }\n    .custom-control-indicator {\n        position: absolute;\n        top: .25rem;\n        left: 0;\n        display: block;\n        width: 1rem;\n        height: 1rem;\n        pointer-events: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        background-color: #ddd;\n        background-repeat: no-repeat;\n        background-position: center center;\n        background-size: 50% 50%;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Selection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Selection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Selection.vue?vue&type=template&id=27337bd7&scoped=true&\"\nimport script from \"./Selection.vue?vue&type=script&lang=js&\"\nexport * from \"./Selection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Selection.vue?vue&type=style&index=0&id=27337bd7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27337bd7\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}